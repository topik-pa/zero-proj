"use strict";(self.webpackChunkzero=self.webpackChunkzero||[]).push([[302],{302:(e,t,a)=>{a.r(t),a.d(t,{plp:()=>l});const n=document.getElementById("products"),s=document.getElementById("more"),i={limit:10,page:1};s.querySelector(".btn").addEventListener("click",(async()=>{i.page++,await c()}));const r={get(){let e="?";return e+=`page=${i.page}`,e+=`&limit=${i.limit}`,e}};function o(e,t){return`\n      <h2>${t.name} ${t.surname}</h2>\n      <p>Email: ${t.email}</p>\n      <p>Age: ${t.age}</p>\n      <img alt="${t.name} image" src="${t.avatar}"/>\n  `}new MutationObserver((e=>{e.forEach(((e,t)=>{t>0||"products"===e.target.id&&Array.from(e.target.children).map((e=>{e.querySelector("img").addEventListener("load",(()=>{e.classList.remove("loading")}))}))}))})).observe(n,{childList:!0});const c=async()=>{s.classList.toggle("loading"),await fetch("https://6442459433997d3ef90c1331.mockapi.io/users"+r.get()).then((e=>e.json())).then((e=>{(e=>{for(const t of e){const e=o`${t}`,a=document.createElement("div");a.classList.add("product"),a.classList.add("loading"),a.innerHTML=e,n.appendChild(a)}})(e)})).catch((e=>{s.classList.add("error"),console.error(e)})).finally((()=>{s.classList.toggle("loading")}))},l={init:async()=>{console.log("PLP"),await c()}}}}]);